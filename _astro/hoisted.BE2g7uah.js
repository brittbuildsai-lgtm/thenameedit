async function k(){const t=document.getElementById("search-input"),e=document.getElementById("search-results");if(!t||!e)return;let i=[];try{i=await(await fetch("/search-index.json")).json()}catch{return}t.addEventListener("input",s=>{const o=s.target.value.toLowerCase().trim();if(o.length<2){e.classList.remove("is-open");return}const n=[],c=new Set;for(const l of i)if(l.names){for(const a of l.names){const d=a.toLowerCase();if(d.includes(o)&&!c.has(d)){c.add(d);const m=i.filter(u=>u.names&&u.names.some(b=>b.toLowerCase()===d)),E=m.length===1?m[0].title:`Found in ${m.length} lists`;if(n.push({type:"name",html:`<a class="search-result-item" href="/posts/${m[0].slug}/">
                  <strong>${r(a,o)}</strong>
                  <small>${E}</small>
                </a>`}),n.filter(u=>u.type==="name").length>=5)break}}if(n.filter(a=>a.type==="name").length>=5)break}const g=i.filter(l=>l.title.toLowerCase().includes(o)||l.category.toLowerCase().includes(o)).slice(0,4);for(const l of g)n.push({type:"list",html:`<a class="search-result-item" href="/posts/${l.slug}/">
              <strong>${r(l.title,o)}</strong>
              <small>${l.category} · ${l.nameCount} names</small>
            </a>`});n.length===0?e.innerHTML='<div class="search-no-results">No names found — try another search</div>':e.innerHTML=n.map(l=>l.html).join(""),e.classList.add("is-open")}),document.addEventListener("click",s=>{s.target.closest(".search-wrapper")||e.classList.remove("is-open")});function r(s,o){const n=s.toLowerCase().indexOf(o);return n===-1?s:s.slice(0,n)+"<mark>"+s.slice(n,n+o.length)+"</mark>"+s.slice(n+o.length)}}document.querySelectorAll(".faq-question").forEach(t=>{t.addEventListener("click",()=>{t.closest(".faq-item")?.classList.toggle("is-open")})});const p=document.getElementById("nav-toggle"),h=document.getElementById("nav-mobile");function y(){h?.classList.remove("is-open"),p?.setAttribute("aria-expanded","false"),document.body.style.overflow=""}function B(){h?.classList.add("is-open"),p?.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden"}p?.addEventListener("click",()=>{h?.classList.contains("is-open")?y():B()});h?.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{y()})});document.addEventListener("keydown",t=>{t.key==="Escape"&&y()});const L=document.getElementById("show-more-btn"),f=document.getElementById("more-posts"),w=document.getElementById("show-more-wrap");L?.addEventListener("click",()=>{if(!f)return;const t=L.getBoundingClientRect().top;f.style.display="grid",w&&(w.style.display="none");const e=f.getBoundingClientRect().top;window.scrollBy({top:e-t,behavior:"instant"})});document.querySelectorAll(".category-scroll-wrap").forEach(t=>{const e=t.querySelector("[data-scroll-row]"),i=t.querySelector("[data-scroll-dots]");if(!e||!i)return;const r=i.querySelectorAll(".scroll-dot");r.length&&(r.forEach((s,o)=>{s.addEventListener("click",()=>{const c=(e.scrollWidth-e.clientWidth)/(r.length-1)*o;e.scrollTo({left:c,behavior:"smooth"})})}),e.addEventListener("scroll",()=>{const s=e.scrollWidth-e.clientWidth;if(s<=0)return;const o=e.scrollLeft/s,n=Math.round(o*(r.length-1));r.forEach((c,g)=>c.classList.toggle("is-active",g===n))}))});k();window.dataLayer=window.dataLayer||[];function v(){dataLayer.push(arguments)}v("js",new Date);v("config","G-BWQRL0ZQTL");
